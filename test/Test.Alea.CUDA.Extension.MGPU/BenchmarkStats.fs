module Test.Alea.CUDA.Extension.MGPU.BenchmarkStats

// Sample stats from running various algorithm benchmarks.  Used for comparison

let sourceCounts = [10000; 50000; 100000; 200000; 500000; 1000000; 2000000; 5000000; 10000000; 20000000]

let scanIterations = [1000; 1000; 1000; 500; 200; 200; 200; 200; 100; 100]

let bulkRemoveIterations = [2000; 2000; 2000; 1000; 500; 400; 400; 400; 300; 300]
let bulkInsertIterations = bulkRemoveIterations

//Tesla K20c :  705.500 Mhz   (Ordinal 0)
//13 SMs enabled. Compute Capability sm_35
//FreeMem:   3576MB   TotalMem:   3584MB.
//Mem Clock: 2600.000 Mhz x 320 bits   (208.000 GB/s)
//ECC Enabled
module TeslaK20c =
    let deviceFolderName = "teslaK20c"

                              // throughput (M/s)     bandwidth (GB/s)
    let moderngpu_scanStats_int = [(  433.734,     5.205 );     // 10k
                                   (  702.083,     8.425 );     // 50k
                                   ( 1898.394,    22.781 );     // 100k
                                   ( 4527.857,    54.334 );     // 200k
                                   ( 7650.295,    91.804 );     // 500k
                                   ( 8946.772,   107.361 );     // 1M
                                   (10262.650,   123.152 );     // 2M
                                   (10547.469,   126.570 );     // 5M
                                   (10657.556,   127.891 );     // 10M
                                   (10627.220,   127.527 ) ]    // 20M

    let thrust_scanStats_int =  [ (    14.487,    0.174 );
                                  (   101.726,    1.221 );
                                  (   768.751,    9.225 );
                                  (  1480.935,   17.771 );
                                  (  2858.013,   34.296 );
                                  (  4125.783,   49.509 );
                                  (  4756.823,   57.082 );
                                  (  5575.663,   66.908 );
                                  (  5937.756,   71.253 );
                                  (  5985.076,   71.821 ) ]

    let moderngpu_scanStats_int64 = [ (   258.734,    6.210);      
                                      (   650.588,   15.614);     
                                      (  1206.063,   28.946);     
                                      (  2560.823,   61.460);     
                                      (  3972.426,   95.338);    
                                      (  4378.827,  105.092);    
                                      (  4725.657,  113.416);    
                                      (  4877.600,  117.062);    
                                      (  4920.150,  118.084);    
                                      (  4967.462,  119.219) ]   

    let thrust_scanStats_int64 =    [ (    64.414,    1.546);
                                      (   309.692,    7.433);
                                      (   520.199,   12.485);
                                      (   959.225,   23.021);
                                      (  2211.916,   53.086);
                                      (  2870.851,   68.900);
                                      (  3642.104,   87.411);
                                      (  4151.910,   99.646);
                                      (  4431.106,  106.347);
                                      (  4540.052,  108.961) ]


    let moderngpu_bulkRemoveStats_int = [(  183.576,      1.469);
                                         (  544.303,      4.354);
                                         ( 1248.267,      9.986);
                                         ( 3854.237,     30.834);
                                         ( 7095.487,     56.764);
                                         ( 9019.937,     72.159);
                                         (10351.320,     82.811);
                                         (11339.600,     90.717);
                                         (11649.941,     93.200);
                                         (11636.822,     93.095) ]
    

    let moderngpu_bulkRemoveStats_int64 = [ ( 341.621,      4.783);
                                            ( 759.194,     10.629);
                                            (1265.140,     17.712);
                                            (2290.602,     32.068);
                                            (6105.514,     85.477);
                                            (7570.339,    105.985);
                                            (8541.667,    119.583);
                                            (9256.332,    129.589);
                                            (9476.318,    132.668);
                                            (9473.003,    132.622) ]

    let moderngpu_bulkInsertStats_int = [ (   258.889,     2.589);
                                          (   514.024,     5.140);
                                          (  1720.477,    17.205);
                                          (  4132.535,    41.325);
                                          (  6701.114,    67.011);
                                          (  8462.207,    84.622);
                                          (  9559.348,    95.593);
                                          ( 10324.759,   103.248);
                                          ( 10290.732,   102.907);
                                          ( 10185.264,   101.853) ]

    let moderngpu_bulkInsertStats_int64 = [(  207.799,      3.740);
                                           (  721.625,     12.989);
                                           ( 2000.352,     36.006);
                                           ( 3082.903,     55.492);
                                           ( 5202.105,     93.638);
                                           ( 6197.645,    111.558);
                                           ( 6745.279,    121.415);
                                           ( 7083.957,    127.511);
                                           ( 7066.011,    127.188);
                                           ( 7034.488,    126.621) ]


//GeForce GTX 560 Ti : 1700.000 Mhz   (Ordinal 0)
//8 SMs enabled. Compute Capability sm_21
//FreeMem:    760MB   TotalMem:   1024MB.
//Mem Clock: 2004.000 Mhz x 256 bits   (128.256 GB/s)
//ECC Disabled
module GF560Ti = 
    let deviceFolderName = "gtx560Ti"

                            // throughput (M/s)     bandwidth (GB/s)
    let moderngpu_scanStats_int = [ ( 522.294,     6.268);    
                                    (1409.874,    16.918);     
                                    (2793.189,    33.518);     
                                    (5016.043,    60.193);     
                                    (7157.139,    85.886);     
                                    (7842.271,    94.107);     
                                    (8115.966,    97.392);     
                                    (8301.897,    99.623);     
                                    (8325.225,    99.903);     
                                    (8427.884,   101.135) ]

    let thrust_scanStats_int = [ (  26.547,     0.319);
                                 ( 123.302,     1.480); 
                                 ( 531.724,     6.381); 
                                 ( 971.429,    11.657);
                                 (1889.905,    22.679);
                                 (2313.313,    27.760);
                                 (3633.622,    43.603);
                                 (4492.701,    53.912);
                                 (4710.093,    56.521);
                                 (5088.089,    61.057) ]

    let moderngpu_scanStats_int64 = [ ( 364.793,     8.755);
                                      (1494.888,    35.877);  
                                      (2588.645,    62.127);  
                                      (3098.852,    74.372);  
                                      (3877.090,    93.050);  
                                      (4041.277,    96.991);  
                                      (4131.842,    99.164);  
                                      (4193.033,   100.633);  
                                      (4218.722,   101.249);  
                                      (4229.460,   101.507) ]


    let thrust_scanStats_int64 = [ (  62.907,     1.510); 
                                   ( 264.719,     6.353); 
                                   ( 467.517,    11.220); 
                                   ( 823.708,    19.769); 
                                   (1534.737,    36.834); 
                                   (2158.156,    51.796); 
                                   (2669.093,    64.058); 
                                   (3088.460,    74.123); 
                                   (3264.636,    78.351); 
                                   (3169.477,    76.067) ]

    let moderngpu_bulkRemoveStats_int = [    (  802.967,      6.424);
                                             ( 2479.822,     19.839);
                                             ( 3336.508,     26.692);
                                             ( 5050.460,     40.404);
                                             ( 7398.474,     59.188);
                                             ( 8682.389,     69.459);
                                             ( 9482.862,     75.863);
                                             ( 9928.677,     79.429);
                                             ( 9991.879,     79.935);
                                             (10080.749,     80.646) ]

    let moderngpu_bulkRemoveStats_int64 = [   ( 800.971,     11.214);
                                              (1965.858,     27.522);
                                              (2891.853,     40.486);
                                              (3855.462,     53.976);
                                              (5075.141,     71.052);
                                              (5686.893,     79.616);
                                              (6067.874,     84.950);
                                              (6239.254,     87.350);
                                              (6291.009,     88.074);
                                              (6317.008,     88.438) ]

    let moderngpu_bulkRemoveStats_float32 = [(  813.859,      6.511);
                                             ( 2514.249,     20.114);
                                             ( 3351.780,     26.814);
                                             ( 5065.922,     40.527);
                                             ( 7404.456,     59.236);
                                             ( 8653.136,     69.225);
                                             ( 9517.225,     76.138);
                                             ( 9927.696,     79.422);
                                             (10003.004,     80.024);
                                             (10071.503,     80.572) ]

    let moderngpu_bulkRemoveStats_float64 = [ ( 788.942,     11.045);
                                              (1998.952,     27.985);
                                              (2895.004,     40.530);
                                              (3872.307,     54.212);
                                              (5076.655,     71.073);
                                              (5689.991,     79.660);
                                              (6067.964,     84.951);
                                              (6255.847,     87.582);
                                              (6253.138,     87.544);
                                              (6318.662,     88.461) ]

    
    let moderngpu_bulkInsertStats_int = [( 856.817,      8.568);
                                         (2043.384,     20.434);
                                         (2954.352,     29.544);
                                         (4200.184,     42.002);
                                         (5770.926,     57.709);
                                         (6639.800,     66.398);
                                         (6982.460,     69.825);
                                         (7014.502,     70.145);
                                         (7013.587,     70.136);
                                         (6994.164,     69.942) ]


    let moderngpu_bulkInsertStats_int64 = [  ( 824.623,     14.843);
                                             (1762.430,     31.724);
                                             (2489.903,     44.818);
                                             (3321.832,     59.793);
                                             (4261.111,     76.700);
                                             (4684.220,     84.316);
                                             (4833.514,     87.003);
                                             (4854.146,     87.375);
                                             (4846.890,     87.244);
                                             (4826.222,     86.872) ]


    let moderngpu_bulkInsertStats_float32 = [( 879.891,      8.799);
                                             (2041.054,     20.411);
                                             (2968.250,     29.682);
                                             (4189.688,     41.897);
                                             (5872.360,     58.724);
                                             (6665.170,     66.652);
                                             (6983.851,     69.839);
                                             (7001.270,     70.013);
                                             (7028.527,     70.285);
                                             (7007.654,     70.077) ]

    let moderngpu_bulkInsertStats_float64 = [( 821.568,     14.788);
                                             (1759.917,     31.679);
                                             (2472.175,     44.499);
                                             (3324.487,     59.841);
                                             (4270.517,     76.869);
                                             (4686.849,     84.363);
                                             (4830.979,     86.958);
                                             (4846.682,     87.240);
                                             (4838.171,     87.087);
                                             (4834.255,     87.017) ]
